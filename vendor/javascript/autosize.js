var e=new Map;function t(r){var n=e.get(r);n&&n.destroy()}function o(r){var n=e.get(r);n&&n.update()}var r=null;"undefined"==typeof window?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(r,n){return r&&Array.prototype.forEach.call(r.length?r:[r],(function(r){return function(r){if(r&&r.nodeName&&"TEXTAREA"===r.nodeName&&!e.has(r)){var n,i=null,l=window.getComputedStyle(r),d=(n=r.value,function(){a({testForHeightReduction:""===n||!r.value.startsWith(n),restoreTextAlign:null}),n=r.value}),u=function(n){r.removeEventListener("autosize:destroy",u),r.removeEventListener("autosize:update",s),r.removeEventListener("input",d),window.removeEventListener("resize",s),Object.keys(n).forEach((function(e){return r.style[e]=n[e]})),e.delete(r)}.bind(r,{height:r.style.height,resize:r.style.resize,textAlign:r.style.textAlign,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",u),r.addEventListener("autosize:update",s),r.addEventListener("input",d),window.addEventListener("resize",s),r.style.overflowX="hidden",r.style.wordWrap="break-word",e.set(r,{destroy:u,update:s}),s()}function a(e){var n,d,u=e.restoreTextAlign,c=void 0===u?null:u,v=e.testForHeightReduction,p=void 0===v||v,f=l.overflowY;if(0!==r.scrollHeight&&("vertical"===l.resize?r.style.resize="none":"both"===l.resize&&(r.style.resize="horizontal"),p&&(n=function(e){for(var r=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&r.push([e.parentNode,e.parentNode.scrollTop]),e=e.parentNode;return function(){return r.forEach((function(e){var r=e[0],n=e[1];r.style.scrollBehavior="auto",r.scrollTop=n,r.style.scrollBehavior=null}))}}(r),r.style.height=""),d="content-box"===l.boxSizing?r.scrollHeight-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):r.scrollHeight+parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),"none"!==l.maxHeight&&d>parseFloat(l.maxHeight)?("hidden"===l.overflowY&&(r.style.overflow="scroll"),d=parseFloat(l.maxHeight)):"hidden"!==l.overflowY&&(r.style.overflow="hidden"),r.style.height=d+"px",c&&(r.style.textAlign=c),n&&n(),i!==d&&(r.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),i=d),f!==l.overflow&&!c)){var h=l.textAlign;"hidden"===l.overflow&&(r.style.textAlign="start"===h?"end":"start"),a({restoreTextAlign:h,testForHeightReduction:!0})}}function s(){a({testForHeightReduction:!0,restoreTextAlign:null})}}(r)})),r}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e});var n=r;export{n as default};

